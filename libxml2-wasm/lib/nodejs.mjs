import e from"node:fs";import{xmlRegisterInputProvider as i}from"./libxml2.mjs";function n(t){try{const r=new URL(t);return r.protocol==="file:"?r.pathname:null}catch{return t}}function s(t){const r=n(t);return r!=null&&e.existsSync(r)}const l={match(t){return s(t)},open(t){const r=n(t);if(r!=null)try{return e.openSync(r,"r")}catch{return}},read(t,r){try{return e.readSync(t,r,0,r.byteLength,null)}catch{return-1}},close(t){try{e.closeSync(t)}catch{}return!0}};function p(){return i(l)}function h(t,r,c){const o={fd:r,write(u){return e.writeSync(this.fd,u)},close(){return e.closeSync(this.fd),!0}};t.save(o,c)}export{l as fsInputProviders,h as saveDocSync,p as xmlRegisterFsInputProviders};
