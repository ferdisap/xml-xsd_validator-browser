var y=function(s,t,a,e,i,f){function r(d){if(d!==void 0&&typeof d!="function")throw new TypeError("Function expected");return d}for(var o=e.kind,c=o==="getter"?"get":o==="setter"?"set":"value",m=!t&&s?e.static?s:s.prototype:null,l=t||(m?Object.getOwnPropertyDescriptor(m,e.name):{}),n,v=!1,_=a.length-1;_>=0;_--){var h={};for(var p in e)h[p]=p==="access"?{}:e[p];for(var p in e.access)h.access[p]=e.access[p];h.addInitializer=function(d){if(v)throw new TypeError("Cannot add initializers after decoration has completed");f.push(r(d||null))};var u=(0,a[_])(o==="accessor"?{get:l.get,set:l.set}:l[c],h);if(o==="accessor"){if(u===void 0)continue;if(u===null||typeof u!="object")throw new TypeError("Object expected");(n=r(u.get))&&(l.get=n),(n=r(u.set))&&(l.set=n),(n=r(u.init))&&i.unshift(n)}else(n=r(u))&&(o==="field"?i.unshift(n):l[c]=n)}m&&Object.defineProperty(m,e.name,l),v=!0},b=function(s,t,a){for(var e=arguments.length>2,i=0;i<t.length;i++)a=e?t[i].call(s,a):t[i].call(s);return e?a:void 0},g=function(s,t,a){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(s,"name",{configurable:!0,value:a?"".concat(a," ",t):t})};import{xmlXPathCtxtCompile as X,xmlXPathFreeCompExpr as P,XmlError as w}from"./libxml2.mjs";import{disposeBy as j,XmlDisposable as E}from"./disposable.mjs";class O extends w{}let D=(()=>{let s=[j(P)],t,a=[],e,i=E;var f=e=class extends i{constructor(r,o,c){super(r),this._xpathSource=o,this._namespaces=c}get namespaces(){return this._namespaces}toString(){return this._xpathSource}static compile(r,o){const c=X(0,r);if(c===0)throw new O(`Failed to compile XPath expression: ${r}`);return f.getInstance(c,r,o)}};return g(e,"XmlXPath"),(()=>{const r=typeof Symbol=="function"&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;y(null,t={value:e},s,{kind:"class",name:e.name,metadata:r},null,a),f=e=t.value,r&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:r}),b(e,a)})(),f=e})();export{D as XmlXPath,O as XmlXPathError};
